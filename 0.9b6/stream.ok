\ Kevo  (c) Antero Taivalsaari 1992\ --------------------------------------------------------------------Prototypes CDDEFINED Collections not IF MKDIR Collections THENCollections CDREF StreamPrototypes.Object.clone -> StreamStream ADDS  VAR items   Prototypes.Collections.ByteArray.new -> items  VAR head  VAR tail\ Access operations  : putChar	( char --  )	head 1+ -> head	head items.store ;  : getChar	(  -- char )	tail head >= 	IF self.erase ." -- " self.printType ." empty" error THEN	tail 1+ -> tail	tail items.fetch ;		  : putString	( addr --  )	BEGIN 	  dup b@ 	WHILE	  dup b@ self.putChar	  1+	REPEAT drop ;  : isEmpty	(  -- flag )	tail head = ;  : erase	(  --  )	0 items.resize	0 -> tail	0 -> head ;  : area#	(  -- physicalSize )	items.area# ;  : count	(  -- logicalSize )	head tail - ;\ Printing operations  : printContents	head tail 1+ DO	  i items.fetch emit	LOOP ;\ Creation operations  : clone	(  -- copyStream )	clone	items.clone -> over.items ;  : new		(  -- newStream )	share	items.new -> over.items	0 -> over.head	0 -> over.tail ;ENDADDS;