\ Kevo  (c) Antero Taivalsaari 1992\ ------------------------------------------------------------------\ This is a queue with automatic access control\ using an internal semaphorePrototypes CDDEFINED Concurrency not IF MKDIR Concurrency THENConcurrency CDREF SharedQueuePrototypes.Collections.Queue2.clone -> SharedQueueSharedQueue ADDS  VAR counter  100000 0 Prototypes.Concurrency.Semaphore.new -> counter\ Access operations  : enqueue	( n --  ) 	<| enqueue |> 	counter.signal ;  : dequeue	(  -- n )	counter.wait 	<| dequeue |> ;  : setLimit	( n --  )	\ Set the maximum size of the queue	-> counter.resources ;  : getLimit	(  -- n )  	counter.resources ;	\ Creation operations  : new 	new	100000 0 counter.new -> over.counter ;  : clone	clone	counter.clone -> over.counter ;ENDADDS;